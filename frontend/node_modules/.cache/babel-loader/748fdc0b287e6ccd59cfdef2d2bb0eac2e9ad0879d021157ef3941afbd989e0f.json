{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senav\\\\Desktop\\\\Cal__culc\\\\frontend\\\\src\\\\pages\\\\register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from \"axios\";\nimport { useMutation } from '@tanstack/react-query';\nimport \"../styles/reg.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = \"http://127.0.0.1:8000/api\";\nconst Register = () => {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    height: \"\",\n    weight: \"\",\n    age: \"\",\n    gender: \"\"\n  });\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // =============================\n  // MUTATION: REGISTER\n  // =============================\n  const registerMutation = useMutation({\n    mutationFn: async data => {\n      await axios.post(`${API}/register/`, data);\n    },\n    onSuccess: () => {\n      window.showErrorPopup(\"Успешная регистрация!\");\n      navigate(\"/login\");\n    },\n    onError: () => {\n      window.showErrorPopup(\"Ошибка регистрации!\");\n    }\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    registerMutation.mutate(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Lroot\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Lleft_box\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/contact\",\n        className: \"Lbutton_back\",\n        children: \"\\u2B05\\uFE0F Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Lcenter_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Lbig_login\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Rcenter_box_child\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Rcenter_inbox\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"Lform\",\n            onSubmit: handleSubmit,\n            children: [[\"username\", \"password\", \"height\", \"weight\", \"age\", \"gender\"].map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"Rlogin_text\",\n                children: field.charAt(0).toUpperCase() + field.slice(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: field,\n                placeholder: `Enter ${field}`,\n                className: \"Linput\",\n                type: field === \"password\" ? \"password\" : \"text\",\n                value: formData[field],\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this)]\n            }, field, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"Lenter_button\",\n              disabled: registerMutation.isPending,\n              children: registerMutation.isPending ? \"Registering...\" : \"➡️ Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"KoRI7nI8rjAC+F3LpnZg/H+2MeA=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","Link","useNavigate","axios","useMutation","jsxDEV","_jsxDEV","API","Register","_s","navigate","formData","setFormData","username","password","height","weight","age","gender","handleChange","e","target","name","value","registerMutation","mutationFn","data","post","onSuccess","window","showErrorPopup","onError","handleSubmit","preventDefault","mutate","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","map","field","charAt","toUpperCase","slice","placeholder","type","onChange","disabled","isPending","_c","$RefreshReg$"],"sources":["C:/Users/senav/Desktop/Cal__culc/frontend/src/pages/register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport { useMutation } from '@tanstack/react-query';\r\n\r\nimport \"../styles/reg.css\";\r\n\r\nconst API = \"http://127.0.0.1:8000/api\";\r\n\r\nconst Register = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    age: \"\",\r\n    gender: \"\"\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // =============================\r\n  // MUTATION: REGISTER\r\n  // =============================\r\n  const registerMutation = useMutation({\r\n    mutationFn: async (data) => {\r\n      await axios.post(`${API}/register/`, data);\r\n    },\r\n    onSuccess: () => {\r\n      window.showErrorPopup(\"Успешная регистрация!\");\r\n      navigate(\"/login\");\r\n    },\r\n    onError: () => {\r\n      window.showErrorPopup(\"Ошибка регистрации!\");\r\n    }\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    registerMutation.mutate(formData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"Lroot\">\r\n\r\n      <div className=\"Lleft_box\">\r\n        <Link to=\"/contact\" className=\"Lbutton_back\">⬅️ Back</Link>\r\n      </div>\r\n\r\n      <div className=\"Lcenter_box\">\r\n        <p className=\"Lbig_login\">Register</p>\r\n\r\n        <div className=\"Rcenter_box_child\">\r\n          <div className=\"Rcenter_inbox\">\r\n\r\n            <form className=\"Lform\" onSubmit={handleSubmit}>\r\n\r\n              {[\"username\", \"password\", \"height\", \"weight\", \"age\", \"gender\"].map((field) => (\r\n                <div key={field}>\r\n                  <p className=\"Rlogin_text\">\r\n                    {field.charAt(0).toUpperCase() + field.slice(1)}\r\n                  </p>\r\n\r\n                  <input\r\n                    name={field}\r\n                    placeholder={`Enter ${field}`}\r\n                    className=\"Linput\"\r\n                    type={field === \"password\" ? \"password\" : \"text\"}\r\n                    value={formData[field]}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              ))}\r\n\r\n              <button\r\n                type=\"submit\"\r\n                className=\"Lenter_button\"\r\n                disabled={registerMutation.isPending}\r\n              >\r\n                {registerMutation.isPending ? \"Registering...\" : \"➡️ Register\"}\r\n              </button>\r\n\r\n            </form>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}